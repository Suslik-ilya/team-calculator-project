{
  "app-id": "org.calculator.TeamCalculator",
  "runtime": "org.freedesktop.Platform",
  "runtime-version": "22.08",
  "sdk": "org.freedesktop.Sdk",
  "command": "calculator",
  "finish-args": [
    "--share=ipc",
    "--socket=x11",
    "--socket=wayland",
    "--filesystem=home"
  ],
  "modules": [
    {
      "name": "tcl",
      "sources": [
        {
          "type": "archive",
          "url": "https://prdownloads.sourceforge.net/tcl/tcl9.0.2-src.tar.gz",
          "sha256": "e074c6a8d9ba2cddf914ba97b6677a552d7a52a3ca102924389a05ccb249b520",
          "config-opts": ["--disable-zipfs"]
        }
      ],
      "subdir": "unix",
      "post-install": [
        "chmod +w /app/lib/libtcl9.0.so"
      ]
    },
    {
      "name": "tk",
      "sources": [
        {
          "type": "archive",
          "url": "https://prdownloads.sourceforge.net/tcl/tk9.0.2-src.tar.gz",
          "sha256": "76fb852b2f167592fe8b41aa6549ce4e486dbf3b259a269646600e3894517c76",
          "config-opts": ["--disable-zipfs"]
        }
      ],
      "subdir": "unix",
      "post-install": [
        "chmod +w /app/lib/libtk9.0.so"
      ]
    },
    {
      "name": "tkinter",
      "buildsystem": "simple",
      "build-commands": [
        "pip3 install --prefix=/app --no-build-isolation ."
      ],
      "sources": [
        {
          "type": "git",
          "url": "https://github.com/iwalton3/tkinter-standalone",
          "commit": "d9cb97c5bd4f814c73678366e0e48220776b6ad3"
        }
      ]
    },
    {
      "name": "team-calculator",
      "buildsystem": "simple",
      "build-commands": [
        "install -Dm755 calculator.py /app/bin/calculator",
        "install -Dm644 calculator.desktop /app/share/applications/org.calculator.TeamCalculator.desktop",
        "install -Dm644 icons/calculator.svg /app/share/icons/hicolor/scalable/apps/org.calculator.TeamCalculator.svg"
      ],
      "sources": [
        {
          "type": "dir",
          "path": ".."
        }
      ]
    }
  ]
}